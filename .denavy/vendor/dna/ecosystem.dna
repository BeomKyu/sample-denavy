# Denavy 생태계 전역 레지스트리 헌법 (Global Registry Constitution)
# 모든 /dna 파일은 이 헌법의 심볼을 @import 하거나 <: 로 상속할 수 있음

# ── 전역 기본 엔티티 뼈대 ──────────────────────────────────────────────────
$BaseEntity
  id         : UUID     ! required @auto
  created_at : DateTime ! @auto
  updated_at : DateTime ! @auto

# ── 전역 타입 별칭 ────────────────────────────────────────────────────────
$T
  Email    : Str  ! @format(email)
  Password : Str  ! @len(8,72)   # 72 = bcrypt 최대 입력 길이
  Username : Str  ! @len(3,30) @pattern([a-zA-Z0-9_]+)
  FullName : Str  @len(1,100)

# ── 전역 열거형 ───────────────────────────────────────────────────────────
$Enum
  Role   : [admin, user, guest]  <- "user"
  Status : [active, inactive, banned]  <- "active"

# ── 전역 보안 정책 ────────────────────────────────────────────────────────
$SecurityPolicy
  password_hash   : bcrypt  @cost(12)
  token_algorithm : HS256
  token_expire    : 3600    # seconds
